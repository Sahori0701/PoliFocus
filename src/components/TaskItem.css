/* components/TaskItem.css */

/* --- ESTILO AÑADIDO --- */
/* Añade un cursor de puntero y un sutil hover a las tarjetas clicables */
.task-item-card.task-is-clickable {
  cursor: pointer;
}

.task-item-card.task-is-clickable:hover {
  background: var(--ion-color-light-tint);
}

/* Card principal */
.task-item-card {
  margin: 0 0 0.75rem 0;
  background: var(--ion-color-light);
  border-radius: clamp(0.75rem, 2vw, 1rem);
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
  transition: all 0.2s ease;
  --background: var(--ion-color-light);
}

.task-item-card:active {
  transform: scale(0.98);
}

/* Conflicto de horarios */
.task-conflict {
  border: 2px solid var(--ion-color-danger) !important;
  animation: conflictPulse 1.5s infinite;
}

@keyframes conflictPulse {
  0%, 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4); } 50% { box-shadow: 0 0 0 4px rgba(239, 68, 68, 0); } }

/* Contenedor interno */
.task-item-wrapper { padding: clamp(0.875rem, 2vw, 1rem); display: flex; flex-direction: column; gap: 0.75rem; }

/* Header */
.task-header { display: flex; align-items: flex-start; justify-content: space-between; gap: 0.75rem; }
.task-info { flex: 1; min-width: 0; }

/* Título */
.task-title-row { display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem; flex-wrap: wrap; }
.task-title-row.completed-task .task-title { color: var(--ion-color-medium-shade); text-decoration: line-through; }
.task-title { font-size: 1em; font-weight: 700; margin: 0; color: var(--ion-text-color); line-height: 1.3; }
.task-icon { font-size: 0.9em; line-height: 1; }

/* Metadata */
.task-meta { display: flex; flex-wrap: wrap; align-items: baseline; gap: clamp(0.5rem, 1.5vw, 0.75rem); font-size: clamp(0.6875rem, 1.8vw, 0.75rem); color: var(--ion-color-medium); }
.task-main-date { font-size: clamp(0.8rem, 2.0vw, 1.0em) !important; font-weight: 500 !important; color: var(--ion-color-medium-shade) !important; }
.meta-item { display: flex; align-items: center; gap: 0.25rem; white-space: nowrap; }
.meta-icon { font-size: clamp(0.875rem, 2vw, 1rem); line-height: 1; }

/* Footer */
.task-footer { display: flex; align-items: center; justify-content: space-between; gap: 0.5rem; flex-wrap: wrap; }

/* Badges */
.time-badge { display: inline-flex; align-items: center; gap: 0.375rem; padding: clamp(0.3125rem, 1vw, 0.375rem) clamp(0.625rem, 1.5vw, 0.75rem); border-radius: 0.5rem; font-size: clamp(0.6875rem, 1.8vw, 0.75rem); font-weight: 700; white-space: nowrap; line-height: 1.2; }
.badge-icon { font-size: clamp(0.875rem, 2vw, 1rem); line-height: 1; }
.badge-text { line-height: 1; }

.time-badge-urgent { background: var(--ion-color-danger); color: white; animation: pulse 2s infinite; }
.time-badge-soon { background: var(--ion-color-warning); color: white; }
.time-badge-normal { background: var(--ion-color-secondary); color: white; }
.time-badge-expired { background: var(--ion-color-medium); color: white; opacity: 0.8; }
.time-badge-completed { background: var(--ion-color-success); color: var(--ion-color-success-contrast); }

.task-footer-completed { display: flex; align-items: center; gap: 0.75rem; flex-wrap: wrap; }

.efficiency-badge { display: inline-flex; align-items: center; gap: 0.375rem; padding: clamp(0.25rem, 0.8vw, 0.375rem) clamp(0.5rem, 1.2vw, 0.625rem); border-radius: 0.625rem; font-size: clamp(0.75rem, 1.9vw, 0.8rem); font-weight: 700; white-space: nowrap; line-height: 1.2; }
.efficiency-badge .badge-icon { font-size: clamp(0.8rem, 1.8vw, 0.9rem); }

.efficiency-badge-excellent { background: var(--ion-color-success); color: var(--ion-color-success-contrast); }
.efficiency-badge-good { background: var(--ion-color-primary); color: var(--ion-color-primary-contrast); }
.efficiency-badge-warning { background: var(--ion-color-warning); color: var(--ion-color-warning-contrast); }
.efficiency-badge-poor { background: var(--ion-color-danger); color: var(--ion-color-danger-contrast); }

.efficiency-details { font-size: clamp(0.75rem, 2vw, 0.875rem); color: var(--ion-color-medium-shade); font-weight: 500; }

/* Acciones */
.task-actions { display: flex; gap: 0.5rem; flex-wrap: wrap; }
.action-button { min-width: 44px; width: 44px; height: 44px; margin: 0; }
.action-button::part(native) { border-radius: clamp(0.5rem, 1.5vw, 0.75rem); }

@keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }
@media (prefers-reduced-motion: reduce) { *, .task-conflict, .time-badge-urgent { animation: none !important; transition: none !important; } }
